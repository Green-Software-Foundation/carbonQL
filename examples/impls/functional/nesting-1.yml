name: nesting-demo
description: null
tags:
  kind: web
  complexity: moderate
  category: on-premise
params: 
aggregation:
  type: both
  metrics: 
    - 'energy'
initialize:
  plugins:
    teads-curve: 
      path: '@grnsft/if-unofficial-models'
      method: TeadsCurve
      global-config:
        interpolation: spline
    sci-e: 
      path: '@grnsft/if-models'
      method: SciE
    sci-m: 
      path: '@grnsft/if-models'
      method: SciM
    sci-o:
      path: '@grnsft/if-models'
      method: SciO
    sci:
      path: '@grnsft/if-models'
      method: Sci
      global-config:
        functional-unit: 'requests'
        functional-unit-time: '1 minute'
tree:
  children:
    child-0:
      defaults:
        thermal-design-power: 100
        grid-carbon-intensity: 800
        total-embodied-emissions: 1533.120 # gCO2eq
        time-reserved: 3600 # 1hr in seconds
        expected-lifespan: 94608000 # 3 years in seconds        
        resources-reserved: 1
        total-resources: 8
        functional-unit-time: '1 min'
      pipeline:
        - teads-curve
        - sci-e
        - sci-m
        - sci-o
        - sci
      inputs:
        - timestamp: 2023-07-06T00:00
          duration: 10
          cpu-util: 50
          energy-network: 1
    child-1:
      defaults:
        thermal-design-power: 100
        grid-carbon-intensity: 800
        total-embodied-emissions: 1533.120 # gCO2eq
        time-reserved: 3600 # 1hr in seconds
        expected-lifespan: 94608000 # 3 years in seconds        
        resources-reserved: 1
        total-resources: 8
        functional-unit-time: '1 min'
      pipeline:
        - teads-curve
        - sci-e
        - sci-m
        - sci-o
        - sci
      inputs:
        - timestamp: 2023-07-06T00:00
          duration: 10
          cpu-util: 30
          energy-network: 1