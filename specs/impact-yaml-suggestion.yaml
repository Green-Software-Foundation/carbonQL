$schema: "./impact-yaml-schema.json"
name: app-name # The name of the root node (the applicatio as a whole)
components: # The nodes under this root node
  - name: nodename # The name of this node
    tags: # common tags for identifying the resource
      - name: field1
        value: val1
      - name: field2
        value: val2
        description: description
    model: # so we know which IMP to use to calculate this node
      path: com.boavizta.CloudPlugin
      setup:
        - name: field1
          value: value1
        - name: field2
          value: value2
    telemetry: # for more complex use cases can point to a CSV file
      # Either a path to a CSV file
      # Or you can add simple telemety inline in the YAML
      components: # The sub nodes of this node
        - name: name # The name of this node
          tags: # common tags for identifying the resource
            - name: field1
              value: val1
            - name: field2
              value: val2
              description: description
          model: # so we know which IMP to use to calculate this node
            path: <a unique string, path to represent an IMP>
            setupOnly: true #reuses the base model but with different setup
            setup:
              - name: name1 #<value>
                value: val1
          telemetry:
            metric: cpu
            unit: percentage
            data:
              - timestamp: 2020-01-01T00:00:00.000Z
                duration: 5s
                value: 34
        - name: name2 # The name of this node
          telemetry:
            path: 'path/to/csv/file.csv'
            metric: cpu
            unit: percentage
            mapping:
              - field: date
                to: date
              - field: percs
                to: percentage
        - name: name # The name of this node
          tags: # common static params
            - name: name1 #<value>
              value: val1
          model: # so we know which IMP to use to calculate this node
            path: <a unique string, path to represent an IMP>
            setup:
              - name: name1 #<value>
                value: val1
          telemetry:
            path: 'path/to/csv/file.csv'
            metric: cpu
            unit: percentage
            mapping:
              - date
              - percentage
              - duration
